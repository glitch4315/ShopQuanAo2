{"ast":null,"code":"var _jsxFileName = \"D:\\\\ShopQuanAo\\\\frontend\\\\src\\\\HomePage.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useContext } from \"react\";\nimport { UserContext } from \"./UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const {\n    user\n  } = useContext(UserContext);\n  useEffect(() => {\n    fetch(\"http://localhost:5000/api/products\").then(res => res.json()).then(data => setProducts(Array.isArray(data) ? data : data.products || []));\n  }, []);\n  const addToCart = async product => {\n    if (!user) return alert(\"Vui l√≤ng ƒëƒÉng nh·∫≠p tr∆∞·ªõc!\");\n    try {\n      const res = await fetch(`http://localhost:5000/api/users/${user._id}/cart/add`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          product\n        })\n      });\n      const data = await res.json();\n      if (res.ok) alert(\"ƒê√£ th√™m v√†o gi·ªè h√†ng!\");else alert(data.message || \"L·ªói\");\n    } catch (err) {\n      alert(\"Kh√¥ng th·ªÉ k·∫øt n·ªëi server\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: products.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: p.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => addToCart(p),\n        children: \"\\uD83D\\uDED2 Th\\xEAm v\\xE0o gi\\u1ECF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)]\n    }, p._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"eKoCS/2P39iN1PbMgSkFWFcM5DU=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["useEffect","useState","useContext","UserContext","jsxDEV","_jsxDEV","HomePage","_s","products","setProducts","user","fetch","then","res","json","data","Array","isArray","addToCart","product","alert","_id","method","headers","body","JSON","stringify","ok","message","err","children","map","p","name","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["D:/ShopQuanAo/frontend/src/HomePage.js"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nfunction HomePage() {\r\n  const [products, setProducts] = useState([]);\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/api/products\")\r\n      .then(res => res.json())\r\n      .then(data => setProducts(Array.isArray(data) ? data : data.products || []));\r\n  }, []);\r\n\r\n  const addToCart = async (product) => {\r\n    if (!user) return alert(\"Vui l√≤ng ƒëƒÉng nh·∫≠p tr∆∞·ªõc!\");\r\n\r\n    try {\r\n      const res = await fetch(`http://localhost:5000/api/users/${user._id}/cart/add`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ product })\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) alert(\"ƒê√£ th√™m v√†o gi·ªè h√†ng!\");\r\n      else alert(data.message || \"L·ªói\");\r\n    } catch (err) {\r\n      alert(\"Kh√¥ng th·ªÉ k·∫øt n·ªëi server\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {products.map(p => (\r\n        <div key={p._id}>\r\n          <h4>{p.name}</h4>\r\n          <button onClick={() => addToCart(p)}>üõí Th√™m v√†o gi·ªè</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AACvD,SAASC,WAAW,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM;IAAES;EAAK,CAAC,GAAGR,UAAU,CAACC,WAAW,CAAC;EAExCH,SAAS,CAAC,MAAM;IACdW,KAAK,CAAC,oCAAoC,CAAC,CACxCC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAIN,WAAW,CAACO,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,GAAGA,IAAI,GAAGA,IAAI,CAACP,QAAQ,IAAI,EAAE,CAAC,CAAC;EAChF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMU,SAAS,GAAG,MAAOC,OAAO,IAAK;IACnC,IAAI,CAACT,IAAI,EAAE,OAAOU,KAAK,CAAC,2BAA2B,CAAC;IAEpD,IAAI;MACF,MAAMP,GAAG,GAAG,MAAMF,KAAK,CAAC,mCAAmCD,IAAI,CAACW,GAAG,WAAW,EAAE;QAC9EC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEP;QAAQ,CAAC;MAClC,CAAC,CAAC;MACF,MAAMJ,IAAI,GAAG,MAAMF,GAAG,CAACC,IAAI,CAAC,CAAC;MAC7B,IAAID,GAAG,CAACc,EAAE,EAAEP,KAAK,CAAC,uBAAuB,CAAC,CAAC,KACtCA,KAAK,CAACL,IAAI,CAACa,OAAO,IAAI,KAAK,CAAC;IACnC,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZT,KAAK,CAAC,0BAA0B,CAAC;IACnC;EACF,CAAC;EAED,oBACEf,OAAA;IAAAyB,QAAA,EACGtB,QAAQ,CAACuB,GAAG,CAACC,CAAC,iBACb3B,OAAA;MAAAyB,QAAA,gBACEzB,OAAA;QAAAyB,QAAA,EAAKE,CAAC,CAACC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACjBhC,OAAA;QAAQiC,OAAO,EAAEA,CAAA,KAAMpB,SAAS,CAACc,CAAC,CAAE;QAAAF,QAAA,EAAC;MAAe;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,GAFrDL,CAAC,CAACX,GAAG;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGV,CACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAAC9B,EAAA,CArCQD,QAAQ;AAAAiC,EAAA,GAARjC,QAAQ;AAuCjB,eAAeA,QAAQ;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}